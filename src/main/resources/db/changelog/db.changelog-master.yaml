databaseChangeLog:
  - changeSet:
      id: "1.0.1"
      author: "NABius"
      changes:
        - createTable:
            tableName: "cars"
            columns:
              - column:
                  name: "id"
                  type: "bigint"
                  autoIncrement: true
                  constraints:
                    primaryKey: true
              - column:
                  name: "model"
                  type: "text"
              - column:
                  name: "engine_power"
                  type: "numeric"
  - changeSet:
      id: "1.0.2"
      author: "NABius"
      changes:
        - addColumn:
            columns:
              - column:
                  name: "torque"
                  type: "double"
            tableName: "cars"
  - changeSet:
      id: "1.0.3"
      author: "NABius"
      changes:
        - addColumn:
            tableName: "cars"
            columns:
              - column:
                  name: "fuel_type"
                  type: "text"
  - changeSet:
      id: "1.0.4"
      author: "NABius"
      changes:
        - createTable:
            tableName: "owners"
            columns:
              - column:
                  name: "id"
                  type: "bigint"
                  autoIncrement: true
                  constraints:
                    primaryKey: true
              - column:
                  name: "username"
                  type: "text"
              - column:
                  name: "email"
                  type: "text"
  - changeSet:
      id: "1.0.5"
      author: "NABius"
      changes:
        - addColumn:
            tableName: "cars"
            columns:
              - column:
                  name: "owner_id"
                  type: "bigint"

        - addForeignKeyConstraint:
            baseColumnNames: "owner_id"
            baseTableName: "cars"
            constraintName: "cars_ibfk_1"
            onDelete: "CASCADE"
            referencedColumnNames: "id"
            referencedTableName: "owners"

        - createIndex:
            columns:
              - column:
                  name: "owner_id"
            indexName: "owner_id"
            tableName: "cars"

  - changeSet:
      id: "1.0.6"
      author: "NABius"
      changes:
        - addColumn:
            columns:
              - column:
                  name: "last_maintenance_timestamp"
                  type: "DATETIME"
            tableName: "cars"
